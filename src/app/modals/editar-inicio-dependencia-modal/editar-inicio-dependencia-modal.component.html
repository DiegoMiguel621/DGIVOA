<div class="modal-container">
  <div class="modal-content">

    <!-- Header del Modal -->
    <div id="header-modal">
      <h1>Editar Inicio de Obra - Dependencias</h1>
    </div>

    <!-- Tabs -->
    <div id="selector-tipo">
      <span class="nav-option"
            [class.active]="formularioActivo === 'dependencia'"
            (click)="cambiarFormulario('dependencia')">Dependencia</span> |
      <span class="nav-option"
            [class.active]="formularioActivo === 'contratista'"
            (click)="cambiarFormulario('contratista')">Contratista</span>
    </div>

    <p id="info-text">Modifica los campos necesarios y guarda los cambios.</p>

    <!-- ===== Form Dependencia ===== -->
    <form id="form-modal" [formGroup]="avisoForm" *ngIf="formularioActivo === 'dependencia'">

      <div class="form-section">
        <label for="claveObra">1. Clave de obra</label>
        <input type="text" id="claveObra" formControlName="claveObra" autocomplete="off">
      </div>

      <div class="form-section">
        <label for="noFolio">2. No. de Folio</label>
        <input type="text" id="noFolio" formControlName="noFolio">
      </div>

      <div class="form-section">
        <label for="nomDirigido">3. Nombre de Quien Dirige el Oficio a la Contraloría</label>
        <input type="text" id="nomDirigido" formControlName="nomDirigido">
      </div>

      <div class="form-section">
        <label for="cargo">4. Cargo</label>
        <input type="text" id="cargo" formControlName="cargo">
      </div>

      <div class="form-section">
        <label for="fechaIngreso">5. Fecha de Ingreso SC</label>
        <input type="date" id="fechaIngreso" formControlName="fechaIngreso">
      </div>

      <div class="form-section">
        <label for="fechaRecibo">6. Fecha que Recibe DICO</label>
        <input type="date" id="fechaRecibo" formControlName="fechaRecibo">
      </div>

      <div class="form-section">
        <label for="observaciones">7. Observaciones</label>
        <textarea id="observaciones" formControlName="observaciones"></textarea>
      </div>

      <div class="form-section">
        <label for="cumpleAviso">8. Cumple Aviso de Inicio</label>
        <select id="cumpleAviso" formControlName="cumpleAviso">
          <option value="">—</option>
          <option value="SI">SI</option>
          <option value="NO">NO</option>
        </select>
      </div>

      <div class="form-section">
        <label for="dependencia">9. Ente público que ejecuta</label>
        <input type="text" id="dependencia" formControlName="dependencia">
      </div>

      <div class="form-section">
        <label for="nombreObra">10. Nombre de la Obra</label>
        <textarea id="nombreObra" formControlName="nombreObra"></textarea>
      </div>

      <div class="form-section">
        <label for="municipio">11. Municipio</label>
        <select id="municipio" formControlName="municipio">
          <option value="">Selecciona un municipio</option>
          <option *ngFor="let mun of municipios" [value]="mun.clave">
            {{ mun.nombre }}
          </option>
        </select>
      </div>

      <div class="form-section">
        <label for="localidad">12. Localidad</label>
        <select id="localidad"
                formControlName="localidad"
                [disabled]="!localidades.length">
          <option value="">Selecciona una localidad</option>
          <option *ngFor="let loc of localidades" [value]="loc.nombre">
            {{ loc.nombre }}
          </option>
        </select>
      </div>

      <div class="form-section">
        <label for="tipoRecurso">13. Tipo de Recurso</label>
        <select id="tipoRecurso" formControlName="tipoRecurso">
          <option value="">—</option>
          <option value="ESTATAL">ESTATAL</option>
          <option value="FEDERAL">FEDERAL</option>
          <option value="MUNICIPAL">MUNICIPAL</option>
        </select>
      </div>

      <div class="form-section">
        <label for="fondo">14. Fondo</label>
        <input type="text" id="fondo" formControlName="fondo">
      </div>

      <div class="form-section">
        <label for="numContrato">15. Número de Contrato</label>
        <input type="text" id="numContrato" formControlName="numContrato">
      </div>

      <div class="form-section">
        <label for="montoContratado">16. Monto Contratado</label>
        <input type="text" id="montoContratado" formControlName="montoContratado">
      </div>

      <div class="form-section">
        <label for="fechaInicio">17. Plazo de ejecución inicial</label>
        <input type="date" id="fechaInicio" formControlName="fechaInicio">
      </div>

      <div class="form-section">
        <label for="fechaTermino">18. Plazo de ejecución de terminación</label>
        <input type="date" id="fechaTermino" formControlName="fechaTermino">
      </div>

      <div class="form-section">
        <label for="contratista">19. Contratista</label>
        <input type="text" id="contratista" formControlName="contratista">
      </div>

    </form>

    <!-- ===== Form Contratista ===== -->
    <form id="form-modal" *ngIf="formularioActivo === 'contratista'" [formGroup]="contratistaForm">

      <div class="form-section">
        <label for="claveObra">1. Clave de obra</label>
        <input type="text" id="claveObra" formControlName="claveObra">
      </div>

      <div class="form-section">
        <label for="noFolio">2. No. de Folio</label>
        <input type="text" id="noFolio" formControlName="noFolio">
      </div>

      <div class="form-section">
        <label for="nomDirigido">3. Nombre de Quien Dirige el Oficio</label>
        <input type="text" id="nomDirigido" formControlName="nomDirigido">
      </div>

      <div class="form-section">
        <label for="cargo">4. Cargo</label>
        <input type="text" id="cargo" formControlName="cargo">
      </div>

      <div class="form-section">
        <label for="fechaIngreso">5. Fecha de Ingreso SC</label>
        <input type="date" id="fechaIngreso" formControlName="fechaIngreso">
      </div>

      <div class="form-section">
        <label for="fechaRecibo">6. Fecha que Recibe DICO</label>
        <input type="date" id="fechaRecibo" formControlName="fechaRecibo">
      </div>

      <div class="form-section">
        <label for="observaciones">7. Observaciones</label>
        <textarea id="observaciones" formControlName="observaciones"></textarea>
      </div>

      <div class="form-section">
        <label for="cumpleAviso">8. Cumple Aviso de Inicio</label>
        <select id="cumpleAviso" formControlName="cumpleAviso">
          <option value="">—</option>
          <option value="SI">SI</option>
          <option value="NO">NO</option>
        </select>
      </div>

    </form>

    <!-- Footer -->
    <div id="footer-modal">
      <button type="button" (click)="cerrarModal()" id="cancelar">Cancelar</button>
      <button type="submit" (click)="guardar()" id="guardar">Guardar</button>
    </div>

  </div>
</div>

